define(["require","app/controllers/DigitalGreenPageController","jquery","app/view-controllers/CollectionMostFiltersViewController","app/view-controllers/CollectionViewController","app/view-controllers/profile/ActivitiesViewController","app/view-controllers/PartnerFarmersViewController"],function(e){var t=e("app/controllers/DigitalGreenPageController"),n=e("jquery"),r=e("app/view-controllers/CollectionMostFiltersViewController"),i=e("app/view-controllers/CollectionViewController"),s=e("app/view-controllers/profile/ActivitiesViewController"),o=e("app/view-controllers/PartnerFarmersViewController"),u=t.extend({constructor:function(e,t){this.base(e,t);var n=this._references,r=4;n.collectionViewController.setCollectionsPerPage(r).setCollectionsPerRow(4).setVideosPerDrawer(5),n.collectionMostFiltersViewController.setActiveFilter("-likes");var i=$(".js-partner-farmers-pages-container").attr("data-partnerID");return this._references.collectionViewController._references.dataFeed.addInputParam("uid",!0,0,!0),this._references.collectionViewController._references.dataFeed.setInputParam("uid",i,!0),this._getCollections(0,r),this},_initReferences:function(e,t){this.base(e);var u=this._references,a=n(".js-collections-wrapper");u.collectionViewController=new i(a),u.collectionMostFiltersViewController=new r(a);var f=n(".js-activities-wrapper");u.activitiesViewController=new s(f);var l=n(".js-partner-farmers-carousel-container");u.partnerFarmersViewController=new o(l),u.$showMoreButton=n(".js-show-more"),u.$hideCollectionsButton=n(".js-hide-collections")},_initEvents:function(){this.base();var e=this._references,t=this._boundFunctions;t.onOrderChanged=this._onOrderChanged.bind(this),e.collectionMostFiltersViewController.on("orderChanged",t.onOrderChanged)},_onOrderChanged:function(e){this._references.collectionViewController.setInputParam("order_by",e)},_getCollections:function(e,t){return this._references.collectionViewController.getCollections(e,t)},destroy:function(){this.base()}});return u});