<HTML>
	<center>
		<head>
			<h1>Raw Data Analytics</h1>
		</head>
		<body>
			<script src="{{STATIC_URL}}coco/app/scripts/libs/jquery.min.js"></script>
			<script type ='text/javascript'>

							
			function statechange(src, val) {
				
			$.get( "/raw_data_analytics/dropdown1/", { selected : val })
               .done(function( data ) {
                   data_json = JSON.parse(data);
                   $('#stateID ').find('option:gt(0)').remove();
                   $('#districtID ').find('option:gt(0)').remove();
                   $('#blockID ').find('option:gt(0)').remove();
                   $('#villageID ').find('option:gt(0)').remove();
                    for (i in data_json){
                       	$('#stateId').append("<option>"+data_json[i]+"</option>");
                   }
               });



            }

            function districtchange(src, val) {
				
			$.get( "/raw_data_analytics/dropdown2/", { selected : val })
               .done(function( data ) {
                   data_json = JSON.parse(data);
                   $('#districtID ').find('option:gt(0)').remove();
                   $('#blockID ').find('option:gt(0)').remove();
                   $('#villageID ').find('option:gt(0)').remove();
                   for (i in data_json){
                   		$('#districtId').append("<option>"+data_json[i]+"</option>");
                   }
               });
            }

            function blockchange(src, val) {
				
			$.get( "/raw_data_analytics/dropdown3/", { selected : val })
               .done(function( data ) {
                   data_json = JSON.parse(data);
                   $('#blockID ').find('option:gt(0)').remove();
                   $('#villageID ').find('option:gt(0)').remove();                  
                   for (i in data_json){
                   		$('#blockId').append("<option>"+data_json[i]+"</option>");
                   }
               });

            }
            function villagechange(src, val) {
				
			$.get( "/raw_data_analytics/dropdown4/", { selected : val })
               .done(function( data ) {
                   data_json = JSON.parse(data);
                   $('#villageID ').find('option:gt(0)').remove();
                   for (i in data_json){
                		$('#villageId').append("<option>"+data_json[i]+"</option>");
                   }
               });
		}


			</script>

			<form action="/raw_data_analytics/execute/" method="POST" enctype="multipart/form-data" >
				{% csrf_token %}
				<div name="Filters">
					
					<h3>Filters:</h3>
				
		   				<div name='partner' id='partner'>
		   					<select class='select' name='partner' id = 'partner'>
				    			<option value='-1'>Select Partner</option>
									{% if partners %}
									{% for partner in partners %}
										<option > {{partner}} </option>{% endfor %}
									{%endif%}
			    			</select>
			    		</div></br>				

			    		<div name='country' id='countryID'>
			   				<select class='select' name='country' id = 'countryId' onChange="statechange('state', this.value)">
				    			<option value='-1'>Select Country</option>
									{% if countries %}
									{% for country in countries %}
										<option > {{country}} </option>{% endfor %}
									{%endif%}
			    			</select>
			    		</div></br>				
							
			   			<div name='state' id='stateID'>	
			   				<select class='select' name='state' id = 'stateId' onChange="districtchange('district', this.value)">
				    			<option value='-1'>Select State</option>
									
			    			</select>
			    		</div></br>				
							
		   				<div name='district' id='districtID'>
			   				<select class='select' name='district' id = 'districtId' onChange="blockchange('block', this.value)">
				    			<option value='-1'>Select District</option>
									
			    			</select>
			    		</div></br>			
							
			   			<div name='block' id='blockID'>	
			   				<select class='select' name='block' id = 'blockId' onChange="villagechange('village', this.value)">
				    			<option value='-1'>Select Block</option>
									
			    			</select>
			    		</div></br>				
							
			   			<div name='village' id='villageID'>	
			   				<select class='select' name='village' id = 'villageId'>
				    			<option value='-1'>Select Village</option>
									
			    			</select>
			    		</div></br>				
									
				</div>
				
				<div name="Partition">
					<h3>Columns required in excel output</h3>
					<input type="checkbox" name="partner_chk" value"partner">Partner &nbsp;
					<input type="checkbox" name="country_chk" value"country">Country &nbsp;
					<input type="checkbox" name="state_chk" value"state">State &nbsp;
					<input type="checkbox" name="district_chk" value"district">District &nbsp;
					<input type="checkbox" name="block_chk" value"block">Block &nbsp;
					<input type="checkbox" name="village_chk" value"village">Village &nbsp;
					<input type="checkbox" name="animator_chk" value"animator">Animator &nbsp;
					<input type="checkbox" name="people_chk" value"animator">People &nbsp;
					<input type="checkbox" name="group_chk" value"animator">SHG &nbsp;
				</div><br>
				
				<div name="Values">
					<h3> Statistics Required:</h3>
					<input type="checkbox" name="screening_chk" value"screening">Number of Screenings &nbsp;
					<input type="checkbox" name="adoption_chk" value"adoption">Number of Adoptions &nbsp;
					<input type="checkbox" name="no_people_chk" value"numPeople">Number of People &nbsp;
					<input type="checkbox" name="list_people_chk" value"listPeople">List of People &nbsp;
					<input type="checkbox" name="no_animator_chk" value"numAnimators">Number of Animators &nbsp;
					<input type="checkbox" name="list_animator_chk" value"listAnimators">List of Animators &nbsp;
					<input type="checkbox" name="attendance_chk" value"attendance">Total Viewers &nbsp;
				</div><br>
				
				<div name="Date">
					<h3> Date: </h3>
					<p><h5>From: &nbsp;<input type="date" name="from_date">&nbsp; &nbsp;                                To: &nbsp; <input type="date" name="to_date">
					</h5></p>
				</div>
				<div name="Buttons">
					<input type="submit" value="Submit">
					<input type="reset" value="Reset">
				</div>
			</form>	
		</body>
	</center>
</html>