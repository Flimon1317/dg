{% extends "base_analytics.html" %}

{% block title %} Digital Green - Adoption Statistics  {% endblock %}

{% block cssfile %}  
    {{block.super}}   
    <link type='text/css' rel='stylesheet' href='/media/Output/CSS/production.css' />
{% endblock cssfile %}

{% block jsfile %}  
    {{block.super}}
     <script type="text/javascript" src="/media/Output/JS/Jexpandview.js"></script>          
{% endblock jsfile %}	


{% block analyticsbreadcrums %} 	
	{{block.super}}
	/ <span style='font-size:0.9em; font-weight:bold;'> Adoption Statistics </span>	
{% endblock analyticsbreadcrums %}


{% block contentbody %}
	{{block.super}}		
		<div id='contentstat'>	
			<div id='table1'>
				<div id='divstattitle'>
					<table id='divtitletable'  cellspacing='0' cellpadding='0'>						
						<tr>
							<td class='divtitletablename'> <div id='divstattitlename'>Key Statistics</div> </td>
							<td class='divtitletableimg'>  </td>
						</tr>
					</table>								
				</div>
				<table id='table1stat' cellspacing='0' cellpadding='0'> 	
					<tr>
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">	Adoption Rate	</div>
								<div id="statdescimg"> 	
									<div id="statdescimg1" style="display: none;">	
										Farmers who have adopted an agricultural practice <br/>
										divided by 'Active' attendees i.e. farmers who have watched a DG video in last 60 days.					
									</div>								
								</div>
							</div>
							<div class="statnumber">
								<div class="statdesnumber">	{{adopt_rate|floatformat:2|default:"0"}} %</div>
							</div>																				
						</td>
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">Avg. adoption per active farmer </div>
								<div id="statdescimg"> 
									<div id="statdescimg1" style="display: none;">	
										Average number of adoptions per active farmer. Active farmer <br/>
										is the one still involved with DG system.			
									</div>								
								</div>
							</div>
							<div class="statnumber">
								<div class="statdesnumber">	{{avg_ado_per_farmer|floatformat:2|default:"0"}}</div>
							</div>													
						</td>
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">Avg. adoption per screening </div>
								<div id="statdescimg">
									<div id="statdescimg1" style="display: none;">	
										Average number of adoptions per screening			
									</div>									 									
								</div>																
							</div>
							<div class="statnumber">
								<div class="statdesnumber"> {{ avg_ado_per_scr|floatformat:2|default:"0" }} </div>
							</div>																			
						</td>
					</tr>				
					<tr>
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">	Total number of Adoptions	</div>
								<div id="statdescimg"> 	
									<div id="statdescimg1" style="display: none;">	
										The total number of Adoptions <br/>
										in a chosen geography & time period						
									</div>								
								</div>
							</div>
							<div class="statnumber">
								<div class="statdesnumber">	{{tot_ado}} Adoption{{tot_ado|pluralize}}</div>
							</div>																				
						</td>
						
						{% comment %}
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">Ratio of manifested expressed interests</div>
								<div id="statdescimg"> 
									<div id="statdescimg1" style="display: none;">	
										Farmers express interests for adopting a practice during Video screenings. <br\>
										This statistic indicates the ratio of interests that materialized into actual adoption.				
									</div>								
								</div>
							</div>
							<div class="statnumber">
								<div class="statdesnumber">{{ratio_exp_int|floatformat:2|default:"0"}} interests</div>
							</div>													
						</td>
						{% endcomment %}
						<td class='table1statdesc'>
							<div class='statdesc'>
								<div class='statdescname'> Avg. adoption per video</div>
								<div id='statdescimg'> 
									<div id='statdescimg1'>	
										Average number of adoptions <br/>
										per video
									</div>								
								</div>
							</div>
							<div class='statnumber'>
								<div class='statdesnumber'> {{ avg_ado_per_vid|floatformat:2|default:"0"}} adoptions/video</div>
							</div>													
						</td>	
						
						<td class="table1statdesc">
							<div class="statdesc">
								<div class="statdescname">Probability of Adoption by a farmer </div>
								<div id="statdescimg">
									<div id="statdescimg1" style="display: none;">	
										Total Adoptions divided by total viewings of Videos					
									</div>									 									
								</div>																
							</div>
							<div class="statnumber">
								<div class="statdesnumber">	{{adopt_prob|floatformat:2|default:"0"}} %</div>
							</div>																			
						</td>
						
					</tr>					
					
					<tr>						
						<td class='table1statdesc'>
							<div class='statdesc'>
								<div class='statdescname'>	Total Unique Farmer adopting a Practice</div>
								<div id='statdescimg'> 	
									<div id='statdescimg1'>	
										Number of unique farmers <br/> 
										adopting any Agricultural Practice	
									</div>								
								</div>
							</div>
							<div class='statnumber'>
								<div class='statdesnumber'>{{tot_farmers}} Farmer{{tot_farmers|pluralize}}</div>
							</div>																				
						</td>						
					
						<td class='table1statdesc'>
							<div class='statdesc'>
								<div class='statdescname'>	Total Unique Practices Adopted </div>
								<div id='statdescimg'> 
									<div id='statdescimg1'>	
										Number of Unique Agricultural<br/>
										Practices adopted
									</div>								
								</div>
							</div>
							<div class='statnumber'>
								<div class='statdesnumber'>{{tot_prac}} Practice{{tot_prac|pluralize}}</div>
							</div>													
						</td>	
						
						<td class='table1statdesc'>
							<div class='statdesc'>
								<div class='statdescname'> Ratio of farmers with Repeat Adoption </div>
								<div id='statdescimg'> 	
									<div id='statdescimg1'>	
										Ratio of farmers who repeated an adoption to the  
										number of farmers who made at least one adoption.
										Repeating an adoption is adopting the same agricultural
										practice again.
									</div>								
								</div>
							</div>
							<div class='statnumber'>
								<div class='statdesnumber'>{{repeat_pract|floatformat:2|default:"0"}} %</div>
							</div>																				
						</td>					
					</tr>
					{% comment %}
					<tr>						
						<td class='table1statdesc'>
						</td>						
						<td class='table1statdesc'>
							<div class='statdesc'>
								<div class='statdescname'> Avg. adoption per video</div>
								<div id='statdescimg'> 
									<div id='statdescimg1'>	
										Average number of adoptions <br/>
										per video
									</div>								
								</div>
							</div>
							<div class='statnumber'>
								<div class='statdesnumber'> {{ avg_ado_per_vid|floatformat:2|default:"0"}} adoptions/video</div>
							</div>													
						</td>	
						<td class='table1statdesc'>
						</td>					
					</tr>		
					{% endcomment %}				
				</table>				
			</div>					
		</div>
		
		<div id='divstattitle'>
			<table id='divtitletable'  cellspacing='0' cellpadding='0'>						
				<tr>
					<td class='divtitletablename'> <div id='divstattitlename'>Graphs</div> </td>
					<td class='divtitletableimg'>  </td>
				</tr>
			</table>								
		</div>
				
		<div id='contenttable'>	
			<table cellpadding="0" cellspacing="0" border="0" id="graphtable">
				<tr>
					<td id="graphtabletd">					
						<div id="graphdiv1">
							<div id="graphdiv1title">
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1"> Geographic distribution of Adoptions</div>
									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(geog_wise_pie1,"Geographic distribution of Adoptions")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	
								</div>
							</div>
							<div class="graphdiv1desc" id="flash_area_geogwise_pie">								
							</div>												
						</div>
						
						<div id="graphdiv1">
							<div id="graphdiv1title"> 
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1"> Number of Adoptions per Month </div>
									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(monthbar1,"Number of Adoptions per Month")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	
								</div>															
							</div>
							<div class="graphdiv1desc" id="flash_area_monthwise_bar">								
							</div>						
						</div>					
					</td>
				</tr>
				<tr>
					<td id="graphtabletd">					
						<div id="graphdiv1">
							<div id="graphdiv1title"> 
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1">Number of Adoptions over Time</div>

									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(adopt_line1,"Absolute Attendance & Interest Line Graph")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	

								</div>	
							</div>
							<div class="graphdiv1desc" id = "flash_area_adopt_time">						
							</div>						
						</div>
						<div id="graphdiv1">
							<div id="graphdiv1title"> 
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1"> Adoptions per Practice </div>
									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(practice1,"Adoptions per Practice")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	

								</div>									
							</div>
							<div class="graphdiv1desc" id = "flash_area_practice_type_scatter" >
							</div>						
						</div>					
					</td>
				</tr>
				<tr>
					<td id="graphtabletd">					
						<div id="graphdiv1">
							<div id="graphdiv1title">
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1">Adoption Rate Line Graph</div>
									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(adopt_rate_line1,"Adoption Rate Line Graph")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	
								</div>								
							</div>
							<div class="graphdiv1desc" id = "flash_area_adopt_rate_line" >
							</div>						
						</div>
						<div id="graphdiv1">
							<div id="graphdiv1title">
								<div id="graphdiv1titledesc" >									
									<div id="subgraphdiv1titledesc1"> Gender distribution of Persons adopting Agricultural Practice</div>
									<div id="subgraphdiv1titledesc2"> <a href='javascript:zoomIn(male_female_pie1,"Gender distribution of Persons adopting Agricultural Practice")'> <img src="/media/Output/Images/zoomicon1.png" title='Zoom In'> </a> </div>	
								</div>								
							</div>
							<div class="graphdiv1desc" id = "flash_area_mf_pie" >
							</div>						
						</div>					
					</td>
				</tr>
			</table>				
		</div>

<div> 
    <div id="expandview1">        
    </div>       
    <div id="expandview3">    	
    	<div id="expandviewtitle"></div>
    	<div id="expandviewclosebtn" title="Close"></div>    
        <div class="expandviewchart" id="expandview4">        	
        </div>
        <br/>     
    </div>
</div> 

<!-- amline script -->

<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">	
	var geog_wise_pie1 = new SWFObject("/media/Output/ampie/ampie.swf", "actor_pie", eochartwidth, eochartheight, "8", "#FFFFFF");
	geog_wise_pie1.addParam("wmode", "transparent");
	geog_wise_pie1.addVariable("path", "/media/Output/ampie/");
	geog_wise_pie1.addVariable("settings_file", encodeURIComponent("/media/Output/ampie/ampie_settings.xml")); 
	geog_wise_pie1.addVariable("data_file", escape('/analytics/adoption_geog_pie_data/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	geog_wise_pie1.addVariable("additional_chart_settings", encodeURIComponent("<settings><legend><enabled>true</enabled></legend></settings>"));
	//geog_wise_pie1.write("flash_area_geogwise_pie1");
	
	var monthbar1 = new SWFObject("/media/Output/amcolumn/amcolumn.swf", "amcolumn", eochartwidth, eochartheight, "8", "#FFFFFF");
	monthbar1.addParam("wmode", "transparent");
	monthbar1.addVariable("path", "/media/Output/amcolumn/");
	monthbar1.addVariable("settings_file", encodeURIComponent("/media/Output/amcolumn/amcolumn_settings.xml"));

	var additional_chart_settings = '';
	var additional_chart_settings= $.ajax({ type: "GET", url: "/analytics/adoption_monthwise_bar_settings?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}", async: false }).responseText;
	monthbar1.addVariable("additional_chart_settings", encodeURIComponent('<settings>'+additional_chart_settings+'<labels><label lid="0"><text><![CDATA[<font face="Calibri">No. of Adoptions</font>]]></text></label></labels></settings>'));		
	monthbar1.addVariable("data_file", escape('/analytics/adoption_monthwise_bar_data/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	monthbar1.addVariable("preloader_color", "#999999");
	//monthbar1.write("flash_area_monthwise_bar1");
	
	
	/*var tot_lines1 = new SWFObject("/media/Output/amline/amline.swf", "video_line_chart", eochartwidth, eochartheight, "8", "#FFFFFF");
	tot_lines1.addParam("wmode", "transparent");
	tot_lines1.addVariable("path", "/media/Output/amline/");
	tot_lines1.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));
	tot_lines1.addVariable("data_file",escape('/analytics/adoption_tot_lines?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	tot_lines1.addVariable("additional_chart_settings", encodeURIComponent('<settings><graphs> \
						<graph gid="1"><title>Total Attendance</title><color>#FFCC00</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						<graph gid="2"><title>Total Expressed Interest</title><color>#999999</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						<graph gid="3"><title>Total Expressed Adoption</title><color>#3366FF</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						<graph gid="4"><title>Total Expressed Question</title><color>#FF0000</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						</graphs><labels><label lid="0"><text><![CDATA[<font face="Calibri">No. of Persons</font>]]></text></label></labels></settings>'))*/
	//tot_lines1.write("flash_area_tot_lines");
	
	/*var avg_lines1 = new SWFObject("/media/Output/amline/amline.swf", "video_line_chart", eochartwidth, eochartheight, "8", "#FFFFFF");
	avg_lines1.addParam("wmode", "transparent");
	avg_lines1.addVariable("path", "/media/Output/amline/");
	avg_lines1.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));
	avg_lines1.addVariable("data_file",escape('/analytics/adoption_percent_lines?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	avg_lines1.addVariable("additional_chart_settings", encodeURIComponent('<settings><graphs> \
						<graph gid="1"><title>Relative Attendance</title><color>#FFCC00</color><balloon_text><![CDATA[{value}%]]></balloon_text></graph> \
						<graph gid="2"><title>Relative Expressed Interest</title><color>#999999</color><balloon_text><![CDATA[{value}%]]></balloon_text></graph> \
						<graph gid="3"><title>Relative Expressed Adoption</title><color>#3366FF</color><balloon_text><![CDATA[{value}%]]></balloon_text></graph> \
						<graph gid="4"><title>Relative Expressed Question</title><color>#FF0000</color><balloon_text><![CDATA[{value}%]]></balloon_text></graph> \
						</graphs><legend><values><text><![CDATA[: {value}%]]></text> </values></legend><values><y_left><unit>%</unit></y_left></values></settings>'))*/
	
	
	var practice1 = new SWFObject("/media/Output/amxy/amxy.swf", "amxy", eochartwidth, eochartheight, "8", "#FFFFFF");
	practice1.addParam("wmode", "transparent");
	practice1.addVariable("path", "/media/Output/amxy/");
	practice1.addVariable("settings_file", encodeURIComponent("/media/Output/amxy/amxy_settings.xml"));                    // you can set two or more different settings files here (separated by commas)
	practice1.addVariable("data_file", escape('/analytics/adoption_practice_wise_scatter/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	practice1.addVariable("additional_chart_settings", encodeURIComponent('<settings><labels><label lid="0"><text><![CDATA[<font face="Calibri">No. of Adoptions</font>]]></text></label></labels></settings>')); 
	//practice1.write("flash_area_practice_type_scatter1");
	
	var male_female_pie1 = new SWFObject("/media/Output/ampie/ampie.swf", "mfratio_pie", eochartwidth, eochartheight, "8", "#FFFFFF");
	male_female_pie1.addParam("wmode", "transparent");
	male_female_pie1.addVariable("path", "/media/Output/ampie/");
	male_female_pie1.addVariable("settings_file", encodeURIComponent("/media/Output/ampie/ampie_settings.xml"))
	male_female_pie1.addVariable("data_file", escape('/analytics/adoption_pie_graph_mf_ratio/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	//male_female_pie1.write("flash_area_mf_ratio");
	
	var line_data = '';
	var line_settings = '';
	$.ajax({ type: "GET", 
				dataType: 'json',
				async: false,
				url: "/analytics/overview_line_graph/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}", 
				data:{type:['adopt', 'adopt_tar']},
				success: function(obj) {
						line_data = obj.data;
						line_settings = obj.settings;
						
				}
	});	 	
	
	var adopt_line1 = new SWFObject("/media/Output/amline/amline.swf", "video_line_chart", eochartwidth, eochartheight, "8", "#FFFFFF");
	adopt_line1.addParam("wmode", "transparent");
	adopt_line1.addVariable("path", "/media/Output/amline/");
	adopt_line1.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));
	adopt_line1.addVariable("chart_data",escape(line_data));
	adopt_line1.addVariable("additional_chart_settings", encodeURIComponent(line_settings));
	adopt_line1.addVariable("chart_id", "video_line_chart1");
	
	/*var adopt_rate_line_data = '';
	$.ajax({ type: "GET", 
				dataType: 'json',
				async: false,
				url: "/analytics/adoption_rate_line?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}", 
				success: function(obj) {
						window.alert(obj);
						adopt_rate_line_data = obj;
				}
	});*/	 	
	
	var adopt_rate_line1 = new SWFObject("/media/Output/amline/amline.swf", "adopt_rate_line_chart", eochartwidth, eochartheight, "8", "#FFFFFF");
	adopt_rate_line1.addParam("wmode", "transparent");
	adopt_rate_line1.addVariable("path", "/media/Output/amline/");
	adopt_rate_line1.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));
	adopt_rate_line1.addVariable("data_file",escape('/analytics/adoption_rate_line/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	adopt_rate_line1.addVariable("additional_chart_settings", encodeURIComponent('<settings><graphs> \
						<graph gid="1"><title>Adoption Rate</title><color>#FFCC00</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						</graphs><legend><align>center</align></legend><labels><label lid="0"><text><![CDATA[<font face="Calibri">Adoption Rate</font>]]></text></label></labels></settings>'));
	adopt_rate_line1.addVariable("chart_id", "adopt_rate_line_chart1");
	
</script>


<script type="text/javascript">
		// <![CDATA[	
	
	google.load("visualization", "1", {packages:["corechart"]});
	  google.setOnLoadCallback(drawCharts);
	 
	  function drawCharts() {
		  adoption_geog_pie();
		  adoption_monthwise_bar();
		  adoption_mf_ratio_pie();
		  adoption_practice_wise_bubble();
		  overview_line();
		  adoption_rate();
	    	
	   }
/*			            
	var geog_wise_pie = new SWFObject("/media/Output/ampie/ampie.swf", "actor_pie", "440", "390", "8", "#FFFFFF");
	geog_wise_pie.addParam("wmode", "transparent");
	geog_wise_pie.addVariable("path", "/media/Output/ampie/");
	geog_wise_pie.addVariable("settings_file", encodeURIComponent("/media/Output/ampie/ampie_settings.xml")); 
	geog_wise_pie.addVariable("data_file", escape('/analytics/adoption_geog_pie_data?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
//	geog_wise_pie.write("flash_area_geogwise_pie");
*/
	function adoption_geog_pie() {
		  	  $.getJSON('/analytics/adoption_geog_pie_data/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}', function(json){
			            var data = google.visualization.arrayToDataTable(json,false);
			
			            var options = {
			                    is3D:true
			                  };

			
			            var chart = new google.visualization.PieChart(document.getElementById('flash_area_geogwise_pie'));
			            chart.draw(data, options);
			  });
		    }

/*
	   
	var monthbar = new SWFObject("/media/Output/amcolumn/amcolumn.swf", "monthbar", "440", "390", "8", "#FFFFFF");
	monthbar.addParam("wmode", "transparent");
	monthbar.addVariable("path", "/media/Output/amcolumn/");
	monthbar.addVariable("settings_file", encodeURIComponent("/media/Output/amcolumn/amcolumn_settings.xml"));
	var additional_chart_settings = '';
	var additional_chart_settings= $.ajax({ type: "GET", url: "/analytics/adoption_monthwise_bar_settings?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}", async: false }).responseText;
	monthbar.addVariable("additional_chart_settings", encodeURIComponent('<settings>'+additional_chart_settings+'<labels><label lid="0"><text><![CDATA[<font face="Calibri">No. of Adoptions</font>]]></text></label></labels></settings>'));
	monthbar.addVariable("data_file", escape('/analytics/adoption_monthwise_bar_data?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	monthbar.addVariable("preloader_color", "#999999");
	monthbar.write("flash_area_monthwise_bar");
	*/
	function adoption_monthwise_bar() {
	  	  $.getJSON('/analytics/adoption_monthwise_bar_data/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}', function(json){
		            var data = google.visualization.arrayToDataTable(json,false);
		
		            var options = {
		                    is3D:true
		                  };

		
		            var chart = new google.visualization.ColumnChart(document.getElementById('flash_area_monthwise_bar'));
		            chart.draw(data, options);
		  });
	    }
	/*
	var practice = new SWFObject("/media/Output/amxy/amxy.swf", "amxy", "440", "390", "8", "#FFFFFF");
	practice.addParam("wmode", "transparent");
	practice.addVariable("path", "/media/Output/amxy/");
	practice.addVariable("settings_file", encodeURIComponent("/media/Output/amxy/amxy_settings.xml"));
	practice.addVariable("data_file", escape('/analytics/adoption_practice_wise_scatter?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	practice.addVariable("additional_chart_settings", encodeURIComponent('<settings><labels><label lid="0"><text><![CDATA[<font face="Calibri">No. of Adoptions</font>]]></text></label></labels></settings>'));
	//practice.write("flash_area_practice_type_scatter");
	*/
	function adoption_practice_wise_bubble() {
	  	  $.getJSON('/analytics/adoption_practice_wise_scatter/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}', function(json){
		            var data = google.visualization.arrayToDataTable(json,false);
		
		            var options = {
		                    hAxis: {title: 'Practices'},
		                    vAxis: {title: 'Number of Adoptions'},
		                    bubble: {textStyle: {color: 'none'}},
		                    colorAxis:{legend:null}
		                  };

		
		            var chart = new google.visualization.BubbleChart(document.getElementById("flash_area_practice_type_scatter"));
		            chart.draw(data, options);
		  });
	    }

	/*
	var male_female_pie = new SWFObject("/media/Output/ampie/ampie.swf", "mfratio_pie", "440", "390", "8", "#FFFFFF");
	male_female_pie.addParam("wmode", "transparent");
	male_female_pie.addVariable("path", "/media/Output/ampie/");
	male_female_pie.addVariable("settings_file", encodeURIComponent("/media/Output/ampie/ampie_settings.xml"))
	male_female_pie.addVariable("data_file", escape('/analytics/adoption_pie_graph_mf_ratio?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	male_female_pie.write("flash_area_mf_pie");
	*/
	function adoption_mf_ratio_pie() {
	  	  $.getJSON('/analytics/adoption_pie_graph_mf_ratio/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}', function(json){
		            var data = google.visualization.arrayToDataTable(json,false);
		
		            var options = {
		                    is3D:true
		                  };

		
		            var chart = new google.visualization.PieChart(document.getElementById('flash_area_mf_pie'));
		            chart.draw(data, options);
		  });
	    }

	/*
	var adopt_line = new SWFObject("/media/Output/amline/amline.swf", "video_line_chart", "420", "390", "8", "#FFFFFF");
	adopt_line.addParam("wmode", "transparent");
	adopt_line.addVariable("path", "/media/Output/amline/");
	adopt_line.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));                // you can set two or more different settings files here (separated by commas)
	adopt_line.addVariable("chart_data",escape(line_data));
	adopt_line.addVariable("additional_chart_settings", encodeURIComponent(line_settings));
	adopt_line.addVariable("chart_id", "video_line_chart");
	//adopt_line.write("flash_area_adopt_time");
	*/
	function overview_line() {
		$.ajax({ type: "GET", 
			dataType: 'json',
			async: false,
			url: "/analytics/overview_line_graph/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}", 
			data:{type:['adopt', 'adopt_tar']},
			success: function(json){
	            var data = google.visualization.arrayToDataTable(json,false);
	            var options = {};
	            var chart = new google.visualization.LineChart(document.getElementById('flash_area_adopt_time'));
	            chart.draw(data, options);
	  }	 	
	  	  
		});
	}
	
	
	/*
	var adopt_rate_line = new SWFObject("/media/Output/amline/amline.swf", "adopt_rate_line_chart", "420", "390", "8", "#FFFFFF");
	adopt_rate_line.addParam("wmode", "transparent");
	adopt_rate_line.addVariable("path", "/media/Output/amline/");
	adopt_rate_line.addVariable("settings_file", encodeURIComponent("/media/Output/amline/amline_settings.xml"));
	adopt_rate_line.addVariable("data_file",escape('/analytics/adoption_rate_line?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}'));
	adopt_rate_line.addVariable("additional_chart_settings", encodeURIComponent('<settings><graphs> \
						<graph gid="1"><title>Adoption Rate</title><color>#FFCC00</color><balloon_text><![CDATA[{value}]]></balloon_text></graph> \
						</graphs><legend><align>center</align></legend><labels><label lid="0"><text><![CDATA[<font face="Calibri">Adoption Rate</font>]]></text></label></labels></settings>'));
	adopt_rate_line.addVariable("chart_id", "adopt_rate_line_chart");
	adopt_rate_line.write("flash_area_adopt_time");
	*/
	function adoption_rate() {
	  	  $.getJSON('/analytics/adoption_rate_line/?geog={{search_box_params.cur_geog}}&id={{search_box_params.cur_id}}{{get_req_url|safe}}', function(json){
		            var data = google.visualization.arrayToDataTable(json,false);
		
		            var options = {
		            		
		                  };

		
		            var chart = new google.visualization.LineChart(document.getElementById('flash_area_adopt_rate_line'));
		            chart.draw(data, options);
		  });
	    }

	
	</script>

<!-- end of amline script -->

{% endblock contentbody %}